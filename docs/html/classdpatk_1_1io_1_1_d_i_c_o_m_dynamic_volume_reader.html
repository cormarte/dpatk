<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPATK: dpatk.io.DICOMDynamicVolumeReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPATK
   </div>
   <div id="projectbrief">The Dynamic PET Analysis ToolKit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dpatk.io.DICOMDynamicVolumeReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for dpatk.io.DICOMDynamicVolumeReader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.png" usemap="#dpatk.io.DICOMDynamicVolumeReader_map" alt=""/>
  <map id="dpatk.io.DICOMDynamicVolumeReader_map" name="dpatk.io.DICOMDynamicVolumeReader_map">
<area href="classdpatk_1_1io_1_1_reader_base.html" alt="dpatk.io.ReaderBase" shape="rect" coords="0,56,234,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5cf8b4733fbd2832ecab33b06d577f60"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html#a5cf8b4733fbd2832ecab33b06d577f60">__init__</a> (self)</td></tr>
<tr class="separator:a5cf8b4733fbd2832ecab33b06d577f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa7cd3db1c1305104497c5492b3caa29e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html#aa7cd3db1c1305104497c5492b3caa29e">read</a> (str path)</td></tr>
<tr class="separator:aa7cd3db1c1305104497c5492b3caa29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a70a0d4b5f3d50916c5e2ed7f9342cefb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html#a70a0d4b5f3d50916c5e2ed7f9342cefb">_get_dynamic_pet_volume</a> (SortedDict sorted_files)</td></tr>
<tr class="separator:a70a0d4b5f3d50916c5e2ed7f9342cefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3727a70d16f162d7dbfab0640bfedd2f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html#a3727a70d16f162d7dbfab0640bfedd2f">_get_sorted_dynamic_pet_dicom_files</a> (str directory)</td></tr>
<tr class="separator:a3727a70d16f162d7dbfab0640bfedd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A reader for 4D dynamic PET volumes sorted as DICOM files possibly belonging to different series with overlapping
frames.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5cf8b4733fbd2832ecab33b06d577f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf8b4733fbd2832ecab33b06d577f60">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dpatk.io.DICOMDynamicVolumeReader.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classdpatk_1_1io_1_1_reader_base.html#ad86221b624d254e0a53e7f591fd628db">dpatk.io.ReaderBase</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a70a0d4b5f3d50916c5e2ed7f9342cefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a0d4b5f3d50916c5e2ed7f9342cefb">&#9670;&nbsp;</a></span>_get_dynamic_pet_volume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def dpatk.io.DICOMDynamicVolumeReader._get_dynamic_pet_volume </td>
          <td>(</td>
          <td class="paramtype">SortedDict&#160;</td>
          <td class="paramname"><em>sorted_files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Reads a 4D dynamic PET volume as an Image from a SortedDict with each frame's Frame Reference Time
(0054, 1300) attribute as keys and a list of corresponding DICOM files as values, sorted with regard to their
respective Image Position (Patient) (0020, 0032) z-coordinate.

Parameters
----------
sorted_files : SortedDict
    A SortedDict with, for each frame, its Frame Reference Time (0054, 1300) attribute as key and as value, a
    list of the corresponding files sorted with regard to their respective Image Position (Patient) (0020, 0032)
    z-coordinate.

Returns
-------
dynamic_volume : Image
    The 4D dynamic PET volume in output units.
time_array : ndarray
    A 1D array specifying the mid-frame time in seconds for each frame of dynamic_volume wrt the injection time.</pre> 
</div>
</div>
<a id="a3727a70d16f162d7dbfab0640bfedd2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3727a70d16f162d7dbfab0640bfedd2f">&#9670;&nbsp;</a></span>_get_sorted_dynamic_pet_dicom_files()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def dpatk.io.DICOMDynamicVolumeReader._get_sorted_dynamic_pet_dicom_files </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Sorts dynamic PET DICOM files from a root directory.

Overlapping frames for a given Study Instance UID (0020, 000D) reconstructed in different series will be
gathered provided that they share the same Series Date (0008, 0021) and Series Time (0008, 0031) attributes.

Note that only images of Modality (0008, 0060) 'PT' and Series Type (0054, 1000) 'DYNAMIC\\IMAGE' will be
considered.

Parameters
----------
directory : str
    The root directory containing all dynamic PET DICOM files for the series. Will be walked recursively.

Returns
-------
sorted_files : list of SortedDict
    A list containing, for each Study Instance UID/Series Datetime combination, a SortedDict with each found
    frame's Frame Reference Time (0054, 1300) attribute as key and as value a list of the corresponding files
    sorted wrt their respective Image Position (Patient) (0020, 0032) z-coordinate.</pre> 
</div>
</div>
<a id="aa7cd3db1c1305104497c5492b3caa29e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7cd3db1c1305104497c5492b3caa29e">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def dpatk.io.DICOMDynamicVolumeReader.read </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Reads dynamic PET DICOM files from a root directory into a single 4D dynamic PET volume.

Overlapping frames reconstructed in different series will be merged provided that they share the same Series
Date (0008, 0021) and Series Time (0008, 0031) attributes.

If more than one dynamic volume is found in the root directory, the first one will be returned.

Parameters
----------
path : str
    The root directory containing all dynamic PET DICOM files for the series. Will be walked recursively.

Returns
-------
dynamic_volume : Image
    The 4D merged dynamic PET volume in output units.
time_array : ndarray
    A 1D array specifying the mid-frame time in seconds for each frame of dynamic_volume w.r.t. the injection
    time.</pre> 
<p>Reimplemented from <a class="el" href="classdpatk_1_1io_1_1_reader_base.html#a147d2e85cfc99ea15d91adef708ba710">dpatk.io.ReaderBase</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedpatk.html">dpatk</a></li><li class="navelem"><a class="el" href="namespacedpatk_1_1io.html">io</a></li><li class="navelem"><a class="el" href="classdpatk_1_1io_1_1_d_i_c_o_m_dynamic_volume_reader.html">DICOMDynamicVolumeReader</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
